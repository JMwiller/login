<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
    <meta name="author" content="">

	<title>WeBee通行证</title>

	<!-- Bootstrap -->
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

	<!-- 头像修改 -->
	<link rel="stylesheet" type="text/css" href="js/imgareaselect/css/imgareaselect-default.css">
	
	<!--引入CSS-->
	<link rel="stylesheet" type="text/css" href="dist/webuploader.css">

	


</head>
<body screen_capture_injected="true" ryt12042="1">
	<nav class="navbar navbar-default navbar-fixed-top header" role="navigation">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <a class="navbar-brand" href="#"><img src="images/logo1.png"></a>
	    </div>
	  </div><!-- /.container-fluid -->
	</nav>

		
	<div class="container form-container">
		<div class="information-wrap row">
			
			<form class="col-sm-12 col-xs-12 setting" role="form">
				<ul class="nav nav-tabs nav-tabs" role="tablist" id="myTab">
				  <li class="active"><a href="#information" role="tab" data-toggle="tab">个人资料</a></li>
				  <li><a href="#password" role="tab" data-toggle="tab">修改密码</a></li>
				  <li><a href="#head" role="tab" data-toggle="tab">修改头像</a></li>
				</ul>

				<div class="tab-content">
				  <div class="tab-pane active" id="information">
				  		<!-- 个人资料 -->
						<div class="information-form">
							<div class="personal-head col-sm-3 col-xs-12 pull-right">
								<img src="images/loginbg3.jpg" class="img-responsive">
							</div>
							<div class="form-group col-xs-12 col-sm-8 center-block">
								<label for="username">*&nbsp;昵称:</label>
								<input type="text" class="form-control " id="username" placeholder="哈根达C" name="username" value="哈根达C" required="" autofocus="">
							</div>
							<div class="form-group col-xs-12 col-sm-8 center-block">
								<label for="gender">性别:&nbsp;&nbsp;&nbsp;&nbsp;
								<input type="radio" checked="checked" name="gender" value="male">男
								<input type="radio" name="gender" value="female">女
								</label>
							</div>
							<div class="form-group col-xs-12 col-sm-8 center-block">
								<label for="qqaccount">QQ:</label>
								<input type="text" class="form-control " id="qqaccount" placeholder="QQ账号" name="qqaccount" required="" autofocus="">
							</div>
							<div class="form-group col-xs-12 col-sm-8 center-block">
								<label for="phone">电话:</label>
								<input type="text" class="form-control " id="phone" placeholder="电话号码:" name="phone" required="" autofocus="">
							</div>
							<div class="form-group col-xs-12 col-sm-12 center-block">
								<label for="phone">教育程度:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<select name="graduate">
									<option value="doctoral">博士</option>
									<option value="postgraduate">研究生</option>
									<option value="university">大学生</option>
									<option value="other">其他</option>
								</select>
							</div>
						    <div class="row col-sm-8">
							    <div class="form-group col-xs-12 col-sm-4 pull-left center-block">
							    	<button class="btn btn-lg btn-primary btn-block " id="ensure" type="submit">确认</button>
							    </div>
							    <div class="form-group col-xs-12 col-sm-4 pull-right center-block">
							    	<button class="btn btn-lg btn-primary btn-block " id="cancel" type="submit">取消</button>
							    </div>
						    </div>
						    
						</div>
				  </div>

				  <div class="tab-pane" id="password">
				  			<!-- 修改密码 -->
					    <div class="password-form">
						    <div class="form-group col-xs-12 center-block">
						    	<input type="password" class="form-control" id="input-password" name="password" placeholder="原密码" required="">
						    </div>

							<div class="form-group col-xs-12 center-block">
						    	<input type="password" class="form-control" id="input-password" name="password" placeholder="新密码" required="">
						    </div>
						     <div class="form-group col-xs-12 center-block">
						    	<input type="password" class="form-control" id="confirm-password" name="confirm" placeholder="重复新密码" required="">
						    </div>
						    
						    <div class="form-group col-xs-12 col-sm-4 pull-left center-block">
						    	<button class="btn btn-lg btn-primary btn-block " id="ensure" type="submit">确认</button>
						    </div>
						    <div class="form-group col-xs-12 col-sm-4 pull-right center-block">
						    	<button class="btn btn-lg btn-primary btn-block " id="cancel" type="submit">取消</button>
						    </div>
						    
					    </div>
				  </div>

				  <div class="tab-pane" id="head">
					    <!-- 修改头像 -->
						<div class="personal-head-form">
							
							<!-- flash插件 -->
<!-- 							<div style="width:630px;height:395px;margin: 0 auto;">
						  		<div id="swfContainer"></div>
						  		<p style="text-align:center"><button type="button" id="upload">自定义上传按钮</button></p>
						  	</div> -->
							<!--  -->
							<!-- <div class="form-group col-xs-12 center-block"> -->

								<!-- html5使用 -->
						    	<!-- <input type="file" class="form-control" id="uploadfile" name="uploadfile"> -->
						    <!-- </div> -->

						    <!-- <div id="uploader"> -->
							    <!--用来存放item-->
							    <!-- <div id="fileList" class="uploader-list"></div>
							    <div id="filePicker">选择图片</div>
							</div> -->

							<div class="preview-container pull-left" id="preview">
								<!-- <div></div> -->
								<img src="images/loginbg3.jpg">
							</div>
							<div id="cutPreview">
								<img src="images/loginbg3.jpg" />
							</div>

							<div class="cuted-photo-container pull-left" id="cuted-photo"></div>

							<div class="barner" style="clear:both;"></div>


							<div id="uploader">
								<div class="btns">
							        <div id="filePicker">选择图片</div>
							        <button id="ctlBtn" class="btn btn-default">开始上传</button>
							    </div>							
	
								<!-- <div id="fileList" class="uploader-list" style=""></div>
								<div id="filePicker" class="form-group col-xs-4 col-sm-4 pull-left center-block">
									 上传图片
								</div> -->
								<!-- <div class="form-group col-xs-4 col-sm-4 pull-left center-block">
									<button class="btn btn-lg btn-primary btn-block " id="photograph" type="submit">立刻拍照</button>
								</div> -->
							</div>
							<!-- <div class="form-group col-xs-4 col-sm-4 pull-left center-block">
								<button class="btn btn-lg btn-primary btn-block " id="uploding" type="submit">上传图片</button>
							</div>
							<div class="form-group col-xs-4 col-sm-4 pull-left center-block">
								<button class="btn btn-lg btn-primary btn-block " id="photograph" type="submit">立刻拍照</button>
							</div> -->
						</div>
				  	</div>

					

				</div>
			</form>
		</div>

	</div> <!-- container -->
	


	<div class='foot'>
		<div class='foot-logo'>
			<img src="images/logo1.png" class="center-block"> 
		</div>
			<p class="text-center">
				Copyright © 2014 广州蜂汇科技有限公司 <a href="http://www.miitbeian.gov.cn/" target="view_window">粤ICP备14004404</a> 代码统计  
			</p>
		</div>




	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
	  

	<div class="vimiumReset vimiumHUD" style="right: 150px; opacity: 0; display: none;"></div> -->

	<!-- jQuery -->
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- personal js -->
	<!-- <script src="js/login.js"></script> -->

	<!-- 设定最后一个标签页显示 -->
	<script>
	  $(function () {
	    $('#myTab a:last').tab('show')
	  })
	</script>


	<!-- 头像上传测试 -->
	<script src="js/imgareaselect/scripts/jquery.imgareaselect.pack.js"></script>

	<!--引入webUpload JS-->
	<script type="text/javascript" src="dist/webuploader.js"></script>
						
<script type="text/javascript">
	$(function(){
		$('#myTab a').on('click', function(){
			$('#preview').imgAreaSelect({hide: true});
		});
		// $('#preview').imgAreaSelect({ aspectRatio: '5:3', handles: true });


		function preview(img, selection) {
		    var scaleX = 100 / (selection.width || 1);
		    var scaleY = 100 / (selection.height || 1);
		  
		    $('#preview + div > img').css({
		        width: Math.round(scaleX * 300) + 'px',
		        height: Math.round(scaleY * 300) + 'px',
		        marginLeft: '-' + Math.round(scaleX * selection.x1) + 'px',
		        marginTop: '-' + Math.round(scaleY * selection.y1) + 'px'
		    });
		}

	    $('#preview').imgAreaSelect({ aspectRatio: '1:1', onSelectChange: preview });


	});
	
	
	// $('#confirm-upload').on('click', function(){
	// 	$('#uploadfile').uploadifyUpload();
	// });

	// html5 实现图片上传，兼容性无法保证

	// document.getElementById('uploadfile').onchange = function(evt) {  

	//     // 如果浏览器不支持FileReader，则不处理  
	  
	//     if (!window.FileReader) return;  
	  
	//     var files = evt.target.files;  
	  
	//     for (var i = 0, f; f = files[i]; i++) {  
	  
	//         if (!f.type.match('image.*')) {  
	  
	//             continue;  
	  
	//         }  
	  
	  
	//         var reader = new FileReader();  
	  
	//         reader.onload = (function(theFile) {  
	  
	//             return function(e) {  
	  
	//                 // img 元素  
	  
	//                 document.getElementById('preview').src = e.target.result;
	//                 // $('#preview + div > img').attr('src', e.target.result);  
	//                 document.getElementById('cut').src = e.target.result;
	  
	//             };  
	  
	//         })(f);  
	  
	  
	//         reader.readAsDataURL(f);  
	  
	//     }  
	  
	// }  
	



	// webUploader
	// 图片上传
	jQuery(function() {
	    var $ = jQuery,
	    	$preContain = $('#preview'),
	    	$cutPreview = $('#cutPreview'),
	    	$btn = $('#ctlBtn'),
        	state = 'pending',
	        // 优化retina, 在retina下这个值是2
	        ratio = window.devicePixelRatio || 1,

	        // 缩略图大小
	        thumbnailWidth = 100 * ratio,
	        thumbnailHeight = 100 * ratio,

	        // Web Uploader实例
	        uploader;

	    // 初始化Web Uploader
	    uploader = WebUploader.create({

	        // 自动上传。
	        auto: false,

	        // swf文件路径
	        swf: '/dist/Uploader.swf',

	        // 文件接收服务端。
	        server: 'http://webuploader.duapp.com/server/fileupload.php',

	        // 选择文件的按钮。可选。
	        // 内部根据当前运行时创建，可能是input元素，也可能是flash.
	        pick: '#filePicker',

	        // 只允许选择文件，可选。
	        accept: {
	            title: 'Images',
	            extensions: 'gif,jpg,jpeg,bmp,png',
	            mimeTypes: 'image/*'
	        }
	    });

	    // 当有文件添加进来的时候
	    uploader.on( 'fileQueued', function( file ) {
	    		uploader.reset();
	    		
	            var $img = $preContain.find('img'),
	            	$cutImg = $cutPreview.find('img');

	        // 创建缩略图
	        uploader.makeThumb( file, function( error, src ) {
	            if ( error ) {
	                $img.replaceWith('<span>不能预览</span>');
	                return;
	            }

	            $cutImg.attr( 'src', src );
	            $img.attr( 'src', src );
	        }, thumbnailWidth, thumbnailHeight );
	    });

	    // 文件上传过程中创建进度条实时显示。
	    uploader.on( 'uploadProgress', function( file, percentage ) {
	        var $li = $( '#'+file.id ),
	            $percent = $li.find('.progress span');

	        // 避免重复创建
	        if ( !$percent.length ) {
	            $percent = $('<p class="progress"><span></span></p>')
	                    .appendTo( $li )
	                    .find('span');
	        }

	        $percent.css( 'width', percentage * 100 + '%' );
	    });

	    // 文件上传成功，给item添加成功class, 用样式标记上传成功。
	    uploader.on( 'uploadSuccess', function( file ) {
	        $( '#'+file.id ).addClass('upload-state-done');
	    });

	    // 文件上传失败，现实上传出错。
	    uploader.on( 'uploadError', function( file ) {
	        var $li = $( '#'+file.id ),
	            $error = $li.find('div.error');

	        // 避免重复创建
	        if ( !$error.length ) {
	            $error = $('<div class="error"></div>').appendTo( $li );
	        }

	        $error.text('上传失败');
	    });

	    // 完成上传完了，成功或者失败，先删除进度条。
	    uploader.on( 'uploadComplete', function( file ) {
	        $( '#'+file.id ).find('.progress').remove();
	    });


	    uploader.on( 'all', function( type ) {
	        if ( type === 'startUpload' ) {
	            state = 'uploading';
	        } else if ( type === 'stopUpload' ) {
	            state = 'paused';
	        } else if ( type === 'uploadFinished' ) {
	            state = 'done';
	        }

	        if ( state === 'uploading' ) {
	            $btn.text('暂停上传');
	        } else {
	            $btn.text('开始上传');
	        }
	    });
	    $btn.on( 'click', function() {
	        if ( state === 'uploading' ) {
	            uploader.stop();
	        } else {
	            uploader.upload();
	        }
	    });

	    $('#filePicker>div').removeClass('webuploader-pick')
	    					.addClass('btn btn-lg btn-primary')
	    					.css({
	    						float: 'left',
	    						marginLeft: '15px',
	    						marginRight: '15px',
	    					});
	    $btn.removeClass('btn-default')
	    	.addClass('btn-lg btn-primary')
	    	.css({
	    		position: 'relative',
	    		left: '50%',
	    		marginLeft: '-40%',
	    	});
	});
	

</script>



<!-- flash 插件 -->
<!--	<script type="text/javascript">
            swfobject.addDomLoadEvent(function () {
                var swf = new fullAvatarEditor("swfContainer", {
                        id: 'swf',
                        upload_url: '',//fullAvatarEditor/Upload.php',
                        src_url: "samplePictures/Default.png",
                        src_upload:2
                    }, function (msg) {
                        switch(msg.code)
                        {
                            case 1 : alert("页面成功加载了组件！");break;
                            case 2 : alert("已成功加载默认指定的图片到编辑面板。");break;
                            case 3 :
                                if(msg.type == 0)
                                {
                                    alert("摄像头已准备就绪且用户已允许使用。");
                                }
                                else if(msg.type == 1)
                                {
                                    alert("摄像头已准备就绪但用户未允许使用！");
                                }
                                else
                                {
                                    alert("摄像头被占用！");
                                }
                            break;
                            case 5 : 
                                if(msg.type == 0)
                                {
                                    if(msg.content.sourceUrl)
                                    {
                                        alert("原图片已成功保存至服务器，url为：\n" +　msg.content.sourceUrl);
                                    }
                                    alert("头像已成功保存至服务器，url为：\n" + msg.content.avatarUrls.join("\n"));
                                }
                            break;
                        }
                    }
                );
                document.getElementById("upload").onclick=function(){
                    swf.call("upload");
                };
            });
        </script>
    -->  
</body>
</html>